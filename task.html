<!DOCTYPE html>

<head>
   <title>iptvbeat.com - Task </title>
   <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
   <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />   
   <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" ></script>   
   <script type="text/javascript" src="js/hc3.js" ></script>  
   <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
   <!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
	<!-- Optional theme
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css">
	 -->
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
   <script type="text/javascript">
   chart_option={		
		CreateOption:function(render, chart_type){	
			Highcharts.setOptions({
					global: {
						useUTC: true,
						colors: colors
					}
			});
			return options = {
				chart:{
					renderTo:render,
					type:chart_type,
					events: {
			            load: initiateComments()
		        	},
				},
				title: false,
				yAxis: {	
					title: {
						text: ''
					},
					startOnTick: false,	
					gridLineColor: '#eeeeee',
					gridLineDashStyle: 'dash',
					tickWidth:0,
					plotLines: [{
						value: 0,
						width: 0.5,
						color: '#dcdcdc'
					}],							
				},
				tooltip: {
					headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
					pointFormat: '<tr><td style="color:{series.color};padding:0">Rating:</td>' +
						'<td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',
					footerFormat: '</table>',
					shared: true,
					useHTML: true
				},
				
				plotOptions: {							
					column: {
						stacking: 'normal',
						borderWidth:1,
						pointPadding:0.001,
						groupPadding:0.2,		
					},	
					point: {
						events: {
							legendItemClick: function () {
								return false; // <== returning false will cancel the default action
							}
						},
						color: '#4572a7'
					},											
					series:{								
							series:{shadow:false},
							dataGrouping: {
								enabled: false
							},
							animation: false,
							point: {
			                    events: {
			                        click: function() {
			                        	// $(this).popover({
			                        	// 	content: "test"
			                        	// })
			                            //alert ('Category: '+ this.category +', value: '+ this.y);
			                        }
			                    }
			                }
						}
					},					  
				exporting: {
					enabled: false
				},
				series: [{
					name: '',
					data: [],
					dataGrouping: {
						enabled: false
					}					
				}]
			};
		} 
	}
	var charts=[];
	var colors = ['#33b5e5', '#ff4444', '#ffbb33', '#99cc00', '#aa66cc', '#64E572', '#FF9655', '#FFF263', '#6AF9C4', '#2f7ed8', '#0d233a', '#8bbc21', '#910000', '#1aadce', '#492970', '#f28f43', '#77a1e5', '#c42525', '#a6c96a','#ddd'];
	$(function(){			
			//column chart
			charts["column_chart"] = new Highcharts.Chart(chart_option.CreateOption('column_chart', "column"));
			while (charts["column_chart"].series.length > 0)  charts["column_chart"].series[0].remove(true)	;
			charts["column_chart"].xAxis[0].setCategories(['POPTV','AKANAL','PLANETTV','TV3','POPKINO']);	
			var data=[{y:12.4,color:colors[0]}, {y:3.4,color:colors[1]}, {y:5.5,color:colors[2]},{y:1.5,color:colors[3]},{y:2.1,color:colors[4]}];
			series = {name: "Vievers", data:data ,showInLegend: false, shadow:false};			
			charts["column_chart"].addSeries(series);				
	});

	function initiateComments() {
		$(document).ready(function() {
			$(".highcharts-tracker rect").hover(function() {
	           // $(this).attr('data-content', 'loading..');
	           // $(this).attr('data-html', true);
	            $(this).attr('data-content', '<div class="list-group" ><a href="#" class="list-group-item" style="border:0;"><h6 class="list-group-item-heading">matjaz@grosek.si @ 12.34</h6><p class="list-group-item-text">vsebina komentarja</p></a><a href="#" class="list-group-item"><h6 class="list-group-item-heading">matjaz@grosek.si @ 12.34</h6><p class="list-group-item-text">vsebina komentarja</p></a><a href="#" class="list-group-item"><h6 class="list-group-item-heading">matjaz@grosek.si @ 12.34</h6><p class="list-group-item-text">vsebina komentarja</p></a><a href="#" class="list-group-item"><h6 class="list-group-item-heading">matjaz@grosek.si @ 12.34</h6><p class="list-group-item-text">vsebina komentarja</p></a><a href="#" class="list-group-item"><h6 class="list-group-item-heading">matjaz@grosek.si @ 12.34</h6><p class="list-group-item-text">vsebina komentarja vsebina komentarja vsebina komentarjavsebina komentarjavsebina komentarjavsebina komentarjavsebina komentarja</p></a><div class="list-group-item" style="border-bottom: 0;"><form><input class="form-control" type="text" placeholder="comment.."/></form></div><button type="button" class="btn btn-default closePopover" data-toggle="button" style="margin-left:15px;margin-top:4px;">Close</button><button type="button" class="btn btn-primary" data-toggle="button" style="margin-left:15px;margin-top:4px">Save</button>');

	            $(".closePopover").on("click", function() {
		        	$(".popover").hide();
		        })
	            $(this).prepend('<span class="label label-default">New</span>');
	        }).popover({trigger:'click', placement:'auto', html: true}).on("click",function() {
	            $('.popover').appendTo($(document.body));
	        }).on('show.bs.popover', function () {
  				
			}).on("mouseleave", function() {
	        	//$(this).popover('hide')
	        });

	        //$(".highcharts-tracker rect").prepend('<button type="button" class="btn btn-primary btn-xs comments">comments</button>');

	        
		})
		

		
	}
	
   </script>
   <style type="text/css">
		 body{font-family:arial;font-size:11px;margin:0px;padding:0px;}
		.chart{width:100%; margin:10px 0;height:480px;}
		.clear{clear: both;}
		.collab_users{width:100%; padding:5px 10px;background-color:#ddd;float:left;}
		.color_box {width:14px;height: 14px;margin-right: 5px;float:left}
		.header {background-color: #2b2b2b;border: none;z-index: 2000;height: 60px;width: 100%;box-shadow: 0px 0px 10px rgba(0,0,0,0.5);}
		
		button.comments {
			position:absolute;

			top:0;
		}

		.popover-content {
			padding: 0;
		}

		.list-group-item {
			border-left: 0;
			border-right: 0;
		}
   </style>   
</head>
<body>
	<div>
		<div class="header">
			<a class="logo"></a>
		</div>
		<div class="clear"></div> 	
		<div style="padding:0px 20px 15px 0px;position:relative">	
			<div class="collab_users">
				<div class="legend_user"><div class="color_box" style="background-color:#5E4FA2;"></div><span>User 1</span></div>
			</div>
			<div class="clear"></div> 	
			<div class="chart" id="column_chart"></div>				
			<div class="clear"></div> 		
		</div>
	</div>
</body>